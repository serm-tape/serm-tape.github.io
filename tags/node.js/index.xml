<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>node.js on Serm's blog</title><link>https://blog.sermtape.com/tags/node.js/</link><description>Recent content in node.js on Serm's blog</description><generator>Hugo -- gohugo.io</generator><lastBuildDate>Sun, 08 Sep 2019 17:30:00 +0700</lastBuildDate><atom:link href="https://blog.sermtape.com/tags/node.js/index.xml" rel="self" type="application/rss+xml"/><item><title>https ด้วย certbot บน express</title><link>https://blog.sermtape.com/posts/certbot/</link><pubDate>Sun, 08 Sep 2019 17:30:00 +0700</pubDate><guid>https://blog.sermtape.com/posts/certbot/</guid><description>HTTPS ด้วย certbot บน express พอดีว่าพักหลังๆได้เซทเซิฟเวอร์แล้วต้องทำ https พอจะมาทำอีกรอบก็ลืมไปแล้วว่าต้องทำอะไรบ้าง เลยจัดไว้ในนี้เลยละกัน เผื่อลืม
install certbot ก่อนจะทำการสร้าง certificate ก็ต้องดาวน์โหลด certbot มาใช้ก่อน เพื่อเป็น Agent ในการยืนยันโดเมนและเซิฟเวอร์ของเรา ติดตั้ง epel (extra packages for enterprise linux), yum-utils และสุดท้าย พระเอกของเรา certbot
~$ yum install epel-release ~$ yum install yum-utils ~$ yum install certbot แล้วเว็บเซิฟเวอร์เราล่ะ ด้วย ACME protocol ที่ agent ตัวนี้ใช้นั้น ต้องใช้ http server ในการยืนยันด้วย แน่นอนว่า certbot เองก็รู้ดีว่าเราขี้เกียจกันขนาดไหน เพียงแค่เรารันด้วย --standalone โหมด http server ก็จะถูกเปิดขึ้นใช้เฉพาะกิจเพื่อการยืนยันโดยเฉพาะ จากนั้นก็กรอกรายละเอียดสำหรับ Public key ของเรา เป็นอันเสร็จสิ้น
~$ certbot certonly --standalone แต่ถ้ามีเซอร์วิสรันที่พอร์ท 80 อยู่แล้วก็ต้องปิดไปก่อน เพราะบอทของเราจะใช้ แต่ถ้าปิดไม่ได้จริงๆก็ให้ใช้แบบ webroot ยืนยันแทน ก็คือให้ยืนยันผ่านทาง static path ของเราที่สร้างขึ้นนั่นเอง</description></item></channel></rss>