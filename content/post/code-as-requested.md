---
title: "โค้ดตามรีเควส"
description: "เมื่อมีคนขอมาก็จัดให้"
date: "2017-05-13T13:00:00+07:00"
tags: ["elixir"]
image: "/images/walle.jpeg"
---
![walle](/images/walle.jpeg)
# โค้ดตามรีเควส
ก่อนหน้านี้ประมาณ 3–4 เดือนที่แล้ว พี่ที่เป็น marketing ที่ทำงานเก่า เค้าเคยรีเควสขอเครื่องมือสำหรับดึงข้อมูลจากโพสในเพจ จะเอามาสุ่มผู้โชคดี เราเคยทำสคริปลวกๆไว้ให้สมัยที่ทำงานด้วยกัน ตอนนี้ต่างคนต่างแยกย้ายกันไป เค้าก็อยากได้อีก ตอนนั้นกำลังร้อนวิชาอยากลองของใหม่เลยจัด Elixir บน windows สดๆเลย อ่านดอคไปเขียนไป ก็ยังงงๆกับ functional programming แต่สุดท้ายก็ได้แอพง่อยๆมาหนึ่งอัน เซฟรูปจากคอมเม้นทั้งหมด เราแค่ใส่ลิ้งของโพสนั้นไป แต่สุดท้ายแคมเปญนั้นก็ล่มไป เพราะติดปัญหาอะไรสักอย่างจากฝั่งเค้า ก็เลยไม่ได้เอาไปใช้อะไร

จากนั้นสองสามวัน เราก็นึกได้ว่า เราเอามันมาใช้ประโยชน์ได้นี่หว่า เราเคยอยากจะเซฟ meme จากคอมเม้นทใน 9gag กับ jod8riew เลยจัดเลย ได้รูปตลกๆมาเก็บไว้ในเครื่องจำนวนหนึ่ง ก่อนจะลบทิ้งไปเพราะไม่ได้ใช้รูปอยู่ดี 

![img-from-comments](/images/meme1.jpeg)

งานนี้เป็นงานแรกที่เราตั้งใจทำลงกิทฮับตั้งแต่แรก อยากมีโปรไฟล์เท่ห์ๆในกิทหับกะเค้าบ้าง ก็คิดไปเรื่อยๆว่า เราจะพัฒนาให้มันทำอะไรได้อีกดี จนเหตุการณ์หนึ่งเกิดขึ้นในนิวส์ฟีด สาวที่เราตามจีบอยู่ไปตอบคอมเม้นท์ใครบางคนในโพสโฆษณาของหนังจาก SF เรายิ่งสงสัยมากว่าตอบใคร จึงกดดูคอมเม้นท์ในโพสนั้น แต่ว่ามันยาวเหลือเกิน เราไม่สามารถหาได้ว่าเม้นท์ของเธอนั้นตอบใครกันแน่ เราจึงเขียนฟังก์ชั่นเพิ่มให้โปรแกรมนั้นเลย ให้อ่านคอมเม้นท์ทั้งหมด แล้วดูว่าคนชื่อนี้ตอบเม้นท์ไหน ใช้เวลาเขียนเพิ่มประมาณ 1–2 ชั่วโมง ก็รันโปรแกรมและไขข้อสงสัยไปได้ว่า เธอตอบเพื่อนของเธอ และเป็นเพื่อนผู้หญิงเสียด้วย เธอไม่มีชายอื่น แต่สุดท้ายเราก็จีบไม่ติดอยู่ดี โถ่ว 55555

จนสุดท้ายก็ได้พี่มาร์เกตติ้งคนเดิม มาขอให้เพิ่มฟีเจอร์ใหม่ ให้อ่านแชร์จากโพส พอทำเพิ่มไปปรากฏว่า `graph api {post-id}/` อ่านด้วย app token ไม่ได้ ต้องใช้ admin login token ซึ่งเรารีบและขี้เกียจทำ จึงส่งข้อเสนอไปว่า เป็นรีแอคชั่นแทนได้ไหม พี่เค้าก็โอเคพอแทนกันได้ ก็ออกไฟล์ `reaction.csv` ให้เค้าไปหนึ่งอัน แต่ทว่า เค้าจะตัดยอดพรุ่งนี้สองทุ่ม เราจึงเลือกที่จะส่งไฟล์ exe ให้พี่แก พอลอง build ดูก็กระจ่างเลยว่า เอาออกมาเป็น exe ไม่ได้ ต้องใช้แพคเกจอื่นเพิ่ม หน้าแหกไปอีกรอบ 555555 สุดท้ายเราต้องมากดให้เค้าช่วงสองทุ่มวันนั้นอีก

พอคิดว่าพอจะเอาไปลงงานจริงได้แล้วก็เลยลองฟังก์ชันรีลีสบนกิทหับซะเลย ปล่อยเรียบร้อยสวยงาม ไฟล์ไบนารีที่บิวด์มาก็ยังไม่ได้รันดูเลย เราสายซิ่ง

จริงๆแล้วโปรแกรมที่เราเขียนไม่จำเป็นต้องยิ่งใหญ่อย่างเฟสบุคหรือกูเกิ้ล อย่างผมเองเขียนเครื่องมือง่ายๆให้พี่ที่รู้จักกันใช้งาน หรือแม้แต่กระทั่งความอยากรู้อยากเห็นก็เป็นแรงผลักดันให้เขียนโค้ดได้ พอได้เริ่มแล้วทำไปสักพักมันจะมีไอเดียต่อมาเรื่อยๆเอง เขียนๆไปเถอะโค้ดทุกบรรทัดล้วนก่อให้เกิดความรู้ใหม่เสมอ ส่วนโปรแกรมที่ว่า ใครที่สนใจอยากใช้งานก็หามาใช้กันได้ [โค้ดอยู่นี่](https://github.com/serm-tape/donepezil)
